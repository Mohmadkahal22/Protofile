<!DOCTYPE html>
<html lang="ar" dir="rtl">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
        />

        <title>HexaTerminal | Software & Web Development Company</title>

        <!-- Meta Description (SEO Optimized) -->
        <meta
            name="description"
            content="HexaTerminal is a professional software development company specializing in web development, mobile app development, UI/UX design, and digital transformation services. We create innovative digital solutions that empower businesses to grow."
        />

        <!-- Arabic Meta Description -->
        <meta
            name="description:ar"
            content="هيكسا تيرمينال هي شركة برمجيات احترافية متخصصة في تطوير المواقع، تطبيقات الجوال، تصميم واجهات المستخدم، والتحول الرقمي. نبتكر حلولًا رقمية تساعد الشركات على النمو والتميز."
        />

        <!-- Keywords -->
        <meta
            name="keywords"
            content="HexaTerminal, Software Development, Web Development, Mobile App Development, UI/UX Design, IT Solutions, Cloud Services, E-commerce Development, Digital Transformation, Custom Software, برمجة, تطوير تطبيقات, تصميم مواقع, شركة برمجة"
        />

        <!-- Author -->
        <meta name="author" content="HexaTerminal Team" />

        <!-- Open Graph (for social media) -->
        <meta
            property="og:title"
            content="HexaTerminal | Software Development Company"
        />
        <meta
            property="og:description"
            content="Innovative software development and digital solutions — empowering businesses through technology."
        />
        <meta
            property="og:image"
            content="https://hexa-terminal.com/assets/images/og-image.jpg"
        />
        <meta property="og:url" content="https://hexa-terminal.com" />
        <meta property="og:type" content="website" />
        <meta property="og:locale" content="en_US" />
        <meta property="og:locale:alternate" content="ar_AR" />

        <!-- Twitter Cards -->
        <meta name="twitter:card" content="summary_large_image" />
        <meta
            name="twitter:title"
            content="HexaTerminal | Software Development Company"
        />
        <meta
            name="twitter:description"
            content="Building smart digital solutions for web, mobile, and enterprise platforms."
        />
        <meta
            name="twitter:image"
            content="https://hexa-terminal.com/assets/images/twitter-card.jpg"
        />

        <!-- Favicon -->
        <link
            rel="shortcut icon"
            href="https://themes.potenzaglobalsolutions.com/html/it-infinite/images/favicon.ico"
        />

        <!-- Fonts -->
        <link
            href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />

        <!-- CSS Files -->
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
            rel="stylesheet"
        />
        <link href="assets/style/all.min.css" rel="stylesheet" />
        <link href="assets/style/bootstrap.min.css" rel="stylesheet" />
        <link href="assets/style/css2.css" rel="stylesheet" />
        <link href="assets/style/magnific-popup.css" rel="stylesheet" />
        <link href="assets/style/owl.carousel.min.css" rel="stylesheet" />
        <link href="assets/style/swiper.min.css" rel="stylesheet" />
        <link href="assets/style/style.css" rel="stylesheet" />

        <!-- Fonts Family -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;500;600;700;800;900&family=Jost:ital,wght@0,100..900;1,100..900&family=Russo+One&display=swap"
            rel="stylesheet"
        />

        <style>
            /* شاشة التحميل */
            #loading-screen {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: #fff;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                z-index: 9999;
                transition: opacity 0.5s ease;
            }

            .loading-logo {
                font-size: 2.5rem;
                font-weight: bold;
                margin-bottom: 20px;
                color: #333;
            }

            .loading-spinner {
                width: 50px;
                height: 50px;
                border: 5px solid #f3f3f3;
                border-top: 5px solid #3498db;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin-bottom: 20px;
            }

            .loading-text {
                font-size: 1rem;
                color: #666;
                text-align: center;
            }

            .loading-progress {
                width: 200px;
                height: 4px;
                background-color: #f0f0f0;
                border-radius: 2px;
                margin-top: 10px;
                overflow: hidden;
            }

            .loading-progress-bar {
                height: 100%;
                background-color: #3498db;
                width: 0%;
                transition: width 0.3s ease;
            }

            @keyframes spin {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }

            /* إخفاء المحتوى الرئيسي أثناء التحميل */
            #page {
                opacity: 0;
                transition: opacity 0.5s ease;
            }

            #page.loaded {
                opacity: 1;
            }

            /* أنماط لرسائل الخطأ */
            .error-message {
                background-color: #f8d7da;
                color: #721c24;
                padding: 15px;
                border-radius: 5px;
                margin: 10px 0;
                text-align: center;
                border: 1px solid #f5c6cb;
            }

            .retry-button {
                background-color: #007bff;
                color: white;
                border: none;
                padding: 8px 16px;
                border-radius: 4px;
                cursor: pointer;
                margin-top: 10px;
            }

            .retry-button:hover {
                background-color: #0056b3;
            }
        </style>
    </head>

    <body>
        <!-- شاشة التحميل -->
        <div id="loading-screen">
            <div class="loading-logo">HexaTerminal</div>
            <div class="loading-spinner"></div>
            <div class="loading-text" id="loading-status">
                جاري تحميل المحتوى...
            </div>
            <div class="loading-progress">
                <div
                    class="loading-progress-bar"
                    id="loading-progress-bar"
                ></div>
            </div>
        </div>

        <!-- المحتوى الرئيسي -->
        <div id="page" class="main">
            <!-- Include Header -->
            <div id="header-container"></div>

            <div class="site-content">
                <div class="container-fluid">
                    <div class="item-efftect">
                        <div class="efftect overflow-hidden"></div>
                        <div class="efftect overflow-hidden"></div>
                        <div class="efftect overflow-hidden"></div>
                        <div class="efftect overflow-hidden"></div>
                        <div class="efftect overflow-hidden"></div>
                    </div>
                </div>

                <!-- Include Banner -->
                <div id="banner-container"></div>
                <!-- <div id="video-section-container"></div> -->

                <div id="services-hero-container"></div>
                <div id="services-list-container"></div>
                <div id="projects-showcase-container"></div>
                <div id="team-section-container"></div>
                <div id="advantages-section-container"></div>
                <div id="reviews-section-container"></div>

                <div id="faq-container"></div>

                <!-- Include Vision -->
                <div id="vision-container"></div>

                <!-- Include About -->
            </div>

            <!-- Include Footer -->
            <div id="footer-container"></div>
        </div>

        <!-- JavaScript Libraries -->
        <script src="https://unpkg.com/i18next/dist/umd/i18next.min.js"></script>
        <script src="https://unpkg.com/i18next-browser-languagedetector/i18nextBrowserLanguageDetector.js"></script>
        <script src="https://unpkg.com/i18next-http-backend/i18nextHttpBackend.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
        ></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="https://unpkg.com/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>

        <!-- JavaScript Files -->
        <script src="assets/js/bootstrap.min.js"></script>
        <script src="assets/js/jquery.appear.js"></script>
        <script src="assets/js/jquery.countTo.js"></script>
        <script src="assets/js/jquery.magnific-popup.js"></script>
        <script src="assets/js/owl.carousel.min.js"></script>
        <script src="assets/js/popper.min.js"></script>
        <script src="assets/js/shuffle.min.js"></script>
        <script src="assets/js/swiper.min.js"></script>
        <script src="assets/js/SwiperAnimation.min.js"></script>
        <script src="assets/js/translations.js"></script>
        <script src="assets/components/Services/ServicesList.js"></script>
        <script src="assets/components/Services/ProjectsShowcase.js"></script>
        <script src="assets/components/Services/TeamSection.js"></script>
        <script src="assets/components/Services/FAQSection.js"></script>
        <script src="assets/components/Services/ReviewsSection.js"></script>
        <script src="assets/components/VideoSection.js"></script>
        <script src="assets/components/header.js"></script>

        <script>
            // كائن لتتبع حالة تحميل المكونات
            const componentState = {
                loaded: 0,
                total: 10,
                errors: 0,
                maxRetries: 3,
                retryDelays: [1000, 3000, 5000],
            };

            // تحديث شريط التقدم
            function updateProgress() {
                const progress =
                    (componentState.loaded / componentState.total) * 100;
                document.getElementById("loading-progress-bar").style.width =
                    progress + "%";

                const statusText =
                    componentState.errors > 0
                        ? `جاري تحميل المحتوى...  أخطاء`
                        : `جاري تحميل المحتوى... `;

                document.getElementById("loading-status").textContent =
                    statusText;
            }

            function showPage() {
                if (
                    componentState.loaded + componentState.errors >=
                    componentState.total
                ) {
                    setTimeout(() => {
                        document.getElementById(
                            "loading-screen"
                        ).style.opacity = "0";
                        document.getElementById("page").classList.add("loaded");

                        setTimeout(() => {
                            document.getElementById(
                                "loading-screen"
                            ).style.display = "none";

                            // تهيئة Lenis للتمرير السلس بعد تحميل الصفحة
                            const lenis = new Lenis({
                                duration: 1.2,
                                easing: (t) =>
                                    Math.min(1, 1.001 - Math.pow(2, -10 * t)),
                                direction: "vertical",
                                gestureDirection: "vertical",
                                smooth: true,
                                smoothTouch: false,
                                touchMultiplier: 2,
                            });

                            function raf(time) {
                                lenis.raf(time);
                                requestAnimationFrame(raf);
                            }

                            requestAnimationFrame(raf);
                        }, 500);
                    }, 500);
                }
            }

            // دالة لتحميل المكونات مع إدارة الأخطاء وإعادة المحاولة
            function loadComponent(containerId, url, retryCount = 0) {
                return new Promise((resolve, reject) => {
                    $(containerId).load(url, function (response, status, xhr) {
                        if (status === "error") {
                            if (retryCount < componentState.maxRetries) {
                                // إعادة المحاولة بعد تأخير
                                const delay =
                                    componentState.retryDelays[retryCount];
                                document.getElementById(
                                    "loading-status"
                                ).textContent = `خطأ في تحميل ${url}. إعادة المحاولة بعد ${
                                    delay / 1000
                                } ثواني...`;

                                setTimeout(() => {
                                    loadComponent(
                                        containerId,
                                        url,
                                        retryCount + 1
                                    )
                                        .then(resolve)
                                        .catch(reject);
                                }, delay);
                            } else {
                                // فشلت جميع محاولات إعادة التحميل
                                componentState.errors++;
                                $(containerId).html(`
                                    <div class="error-message">
                                        <p>تعذر تحميل هذا القسم. قد يكون هناك مشكلة في الاتصال بالإنترنت.</p>
                                        <button class="retry-button" onclick="retryComponent('${containerId}', '${url}')">
                                            إعادة المحاولة
                                        </button>
                                    </div>
                                `);
                                updateProgress();
                                resolve(); // نعتبره محملاً مع خطأ للمضي قدمًا
                            }
                        } else {
                            // تم التحميل بنجاح
                            componentState.loaded++;
                            updateProgress();
                            resolve();
                        }
                    });
                });
            }

            // دالة لإعادة تحميل مكون معين
            function retryComponent(containerId, url) {
                $(containerId).html(
                    '<div class="text-center">جاري إعادة التحميل...</div>'
                );
                componentState.errors--;
                loadComponent(containerId, url).then(() => {
                    // بعد إعادة التحميل الناجحة، نتحقق إذا كنا بحاجة لتحديث حالة الصفحة
                    showPage();
                });
            }

            // تحميل جميع المكونات
            $(document).ready(async function () {
                try {
                    // قائمة المكونات للتحميل
                    const components = [
                        {
                            id: "#header-container",
                            url: "assets/components/Header.html",
                        },
                        {
                            id: "#banner-container",
                            url: "assets/components/Banner.html",
                        },
                        {
                            id: "#vision-container",
                            url: "assets/components/Vision.html",
                        },
                        {
                            id: "#services-hero-container",
                            url: "assets/components/Services/ServicesHero.html",
                        },
                        {
                            id: "#services-list-container",
                            url: "assets/components/Services/ServicesList.html",
                        },
                        {
                            id: "#projects-showcase-container",
                            url: "assets/components/Services/ProjectsShowcase.html",
                        },
                        {
                            id: "#team-section-container",
                            url: "assets/components/Services/TeamSection.html",
                        },
                        {
                            id: "#advantages-section-container",
                            url: "assets/components/Services/AdvantagesSection.html",
                        },
                        {
                            id: "#reviews-section-container",
                            url: "assets/components/Services/ReviewsSection.html",
                        },
                        {
                            id: "#faq-container",
                            url: "assets/components/Services/FAQSection.html",
                        },
                        {
                            id: "#footer-container",
                            url: "assets/components/Footer.html",
                        },
                    ];

                    componentState.total = components.length;

                    // تحميل جميع المكونات بشكل متوازي
                    const loadPromises = components.map((comp) =>
                        loadComponent(comp.id, comp.url)
                    );

                    // انتظار تحميل جميع المكونات
                    await Promise.allSettled(loadPromises);

                    // بعد تحميل جميع المكونات، نعرض الصفحة
                    showPage();
                } catch (error) {
                    console.error("خطأ أثناء تحميل المكونات:", error);
                    document.getElementById("loading-status").textContent =
                        "حدث خطأ غير متوقع. جاري تحميل الصفحة...";
                    showPage();
                }
            });
        </script>

        <script>
            // جلب بيانات الشركة من API
            document.addEventListener("DOMContentLoaded", async () => {
                try {
                    const response = await fetch(
                        "http://127.0.0.1:8000/api/about_us/index"
                    );
                    const result = await response.json();

                    if (result.status === "success" && result.data) {
                        const data = result.data;

                        // تحديث اسم الشركة في الفوتر
                        const footerLogo =
                            document.querySelector(".footer-logo");
                        if (footerLogo)
                            footerLogo.textContent =
                                data.company_name || "Company";

                        // تحديث البريد الإلكتروني
                        const emailElement = document.querySelector(
                            '[data-i18n="footer.address.email"]'
                        );
                        if (emailElement)
                            emailElement.textContent = data.contact_email || "";

                        // تحديث روابط التواصل الاجتماعي
                        const facebook =
                            document.querySelector(
                                ".fab.fa-facebook-f"
                            )?.parentElement;
                        const instagram =
                            document.querySelector(
                                ".fab.fa-instagram"
                            )?.parentElement;
                        const linkedin = document.querySelector(
                            ".fab.fa-linkedin-in"
                        )?.parentElement;
                        const twitter =
                            document.querySelector(
                                ".fab.fa-twitter"
                            )?.parentElement;

                        if (facebook) facebook.href = data.facebook_url || "#";
                        if (instagram)
                            instagram.href = data.instagram_url || "#";
                        if (linkedin) linkedin.href = data.linkedin_url || "#";
                        if (twitter) twitter.href = data.github_url || "#"; // استخدم GitHub بدلاً من تويتر إذا أردت

                        // تحديث الوصف في قسم "أين تجدنا" أو مكان آخر
                        const descriptionTarget = document.querySelector(
                            ".widget-address-info p"
                        );
                        if (descriptionTarget)
                            descriptionTarget.textContent =
                                data.company_description || "";

                        // تحديث شعار الشركة إن وجد
                        const logoImg = document.querySelector(".header-logo");
                        if (logoImg && data.company_logo) {
                            logoImg.setAttribute("src", data.company_logo);
                        }
                    }
                } catch (error) {
                    console.error("خطأ أثناء جلب بيانات الشركة:", error);
                }
            });
        </script>
    </body>
</html>
